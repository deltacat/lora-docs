### 14.2 BeaconFreqReq

该命令由服务器发往终端，用于修改终端期望信标的频率。

<table class="lora-table">
   <tr>
      <td><b>Octets</b></td>
      <td>3</td>
   </tr>
   <tr>
      <td><b>PingSlotChannelReq Payload</b></td>
      <td>Frequency</td>
   </tr>
</table>

*Figure 55 : BeaconFreqReq payload format*

Frequency 字段的编码方式和 Class A 中定义的 ***NewChannelReq*** 指令相同。

**Frequency** 是一个 24 位无符号整数。实际的信标信道频率是100 x Frequency，单位Hz。信标的信道以 100Hz 为基本单位，变化范围在 100MHz 到 1.67GHz 之间。终端必须检查该频率是不是射频硬件所允许的范围，不是则需要返回错误。

一个有效的非零频率将会强制终端以一个固定的频率信道去监听信标，即使默认是指定跳频信标（即美国ISM频段）。

若频率为0则表示终端使用“信标物理层”部分所定义的默认信标频率计划，在适用的情况之下恢复成跳频信标搜索。

接收到此指令后，终端设备将使用 BeaconFreqAns 消息进行应答。

此消息的 MAC 载荷包含以下信息：

<table class="lora-table">
   <tr>
      <td><b>Size (bytes)</b></td>
      <td>1</td>
   </tr>
   <tr>
      <td><b>BeaconFreqAns payload </b></td>
      <td>Status</td>
   </tr>
</table>

*Figure 56 : BeaconFreqAns payload format*

**Status** 各位含义如下：

<table class="lora-table">
   <tr>
      <td><b>Bits</b></td>
      <td>7:1</td>
      <td>0</td>
   </tr>
   <tr>
      <td><b>Status</b></td>
      <td>RFU</td>
      <td>Beacon frequency ok</td>
   </tr>
</table>

<table >
   <tr>
      <td></td>
      <td>Bit = 0</td>
      <td>Bit = 1</td>
   </tr>
   <tr>
      <td><b>Beacon frequency ok</b></td>
      <td>The device cannot use this frequency, the previous beacon frequency is kept</td>
      <td>The beacon frequency 
has been changed</td>
   </tr>
</table>

