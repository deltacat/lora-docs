(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{394:function(t,v,s){"use strict";s.r(v);var _=s(42),a=Object(_.a)({},(function(){var t=this,v=t.$createElement,s=t._self._c||v;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"第18章-class-c-mac-指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第18章-class-c-mac-指令"}},[t._v("#")]),t._v(" 第18章 Class C MAC 指令")]),t._v(" "),s("p",[t._v("Class A 规范中描述的所有指令都应（SHALL）在 Class C 设备中实现。Class C 规范增加了以下 MAC 指令。")]),t._v(" "),s("table",{staticClass:"lora-table"},[s("tr",[s("td",{attrs:{rowspan:"2"}},[s("b",[t._v("CID")])]),t._v(" "),s("td",{attrs:{rowspan:"2"}},[s("b",[t._v("Command")])]),t._v(" "),s("td",{attrs:{colspan:"2"}},[s("b",[t._v("由谁"),s("br"),t._v("发送")])]),t._v(" "),s("td",{attrs:{rowspan:"2"}},[s("b",[t._v("简短描述")])])]),t._v(" "),s("tr",[s("td",[t._v("终端")]),t._v(" "),s("td",[t._v("网关")])]),t._v(" "),s("tr",[s("td",[t._v("0x20")]),t._v(" "),s("td",{staticClass:"td-cmd"},[t._v("DeviceModeInd")]),t._v(" "),s("td",[t._v("x")]),t._v(" "),s("td"),t._v(" "),s("td",{staticClass:"td-cmd-desc"},[t._v("终端设备用来指示其当前工作模式（Class A 或 C）")])]),t._v(" "),s("tr",[s("td",[t._v("0x20")]),t._v(" "),s("td",{staticClass:"td-cmd"},[t._v("DeviceModeConf")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("x")]),t._v(" "),s("td",{staticClass:"td-cmd-desc"},[t._v("网络用语应答 DeviceModeInd 指令")])])]),t._v(" "),s("i",{staticClass:"lora-table-name"},[t._v("表22. Class C MAC command table")]),t._v(" "),s("h2",{attrs:{id:"_18-1-设备模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_18-1-设备模式"}},[t._v("#")]),t._v(" 18.1 设备模式")]),t._v(" "),s("p",[t._v("Device Mode - "),s("em",[s("strong",[t._v("DeviceModeInd")])]),t._v("，"),s("em",[s("strong",[t._v("DeviceModeConf")])])]),t._v(" "),s("p",[t._v("使用 "),s("em",[s("strong",[t._v("DeviceModeInd")])]),t._v(" 指令，终端设备向网络表明它希望在 Class A 还是 Class C 中操作。该指令具有一个字节载荷，定义如下：")]),t._v(" "),s("table",{staticClass:"lora-table"},[s("tr",[s("td",[s("b",[t._v("Size (bytes)")])]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[s("b",[t._v("DeviceModeInd Payload")])]),t._v(" "),s("td",[t._v("Class")])])]),t._v(" "),s("i",{staticClass:"lora-table-name"},[t._v("图 66: DeviceModeInd payload format")]),t._v(" "),s("p",[t._v("上述命令定义的类型为：")]),t._v(" "),s("table",{staticClass:"lora-table"},[s("tr",[s("td",[s("b",[t._v("Class")])]),t._v(" "),s("td",[s("b",[t._v("Value")])])]),t._v(" "),s("tr",[s("td",[t._v("Class A")]),t._v(" "),s("td",[t._v("0x00")])]),t._v(" "),s("tr",[s("td",[t._v("RFU")]),t._v(" "),s("td",[t._v("0x01")])]),t._v(" "),s("tr",[s("td",[t._v("Class C")]),t._v(" "),s("td",[t._v("0x02")])])]),t._v(" "),s("i",{staticClass:"lora-table-name"},[t._v("表 23 : DeviceModInd class mapping")]),t._v(" "),s("p",[t._v("当网络服务器接收到 "),s("em",[s("strong",[t._v("DeviceModeInd")])]),t._v(" 指令时，它使用 "),s("em",[s("strong",[t._v("DeviceModeConf")])]),t._v(" 指令进行响应。设备应（SHALL）在所有上行链路中包含 "),s("em",[s("strong",[t._v("DeviceModeInd")])]),t._v(" 指令，直到收到 DeviceModeConf 指令为止。")]),t._v(" "),s("p",[t._v("设备应在第一个 "),s("em",[s("strong",[t._v("DeviceModeInd")])]),t._v(" 指令发送后立即切换模式。")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("注意")]),t._v(": 当从 Class A 转到 Class C 时，建议电池供电的设备在应用层实现超时机制，以确保在无法与网络连接的情况下不会无限期地停留在 Class C 模式。")])]),t._v(" "),s("p",[s("em",[s("strong",[t._v("DeviceModeConf")])]),t._v(" 指令有一字节的载荷：")]),t._v(" "),s("table",{staticClass:"lora-table"},[s("tr",[s("td",[s("b",[t._v("Size (bytes)")])]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[s("b",[t._v("DeviceModeConf Payload")])]),t._v(" "),s("td",[t._v("Class")])])]),t._v(" "),s("p",[t._v("该载荷包含 class 参数，定义与 "),s("em",[s("strong",[t._v("DeviceModeInd")])]),t._v(" 指令相同。")])])}),[],!1,null,null,null);v.default=a.exports}}]);